{"ast":null,"code":"var _jsxFileName = \"/Users/guanlun/Documents/GitHub/myblog/src/components/Textcontent/test.js\";\nimport React from 'react';\n\nconst OpenSSH = () => {\n  return /*#__PURE__*/React.createElement(\"article\", {\n    id: \"post__content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 5,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    id: \"post__title\",\n    \"data-identifier\": \"20150306\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 6,\n      columnNumber: 1\n    }\n  }, \"OpenSSH \\u5B89\\u5168\\u914D\\u7F6E\\u5907\\u5FD8\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 1\n    }\n  }, \"\\u4E0B\\u9762\\u662F\\u57FA\\u4E8E Ubuntu Server 14.04 \\u7684 OpenSSH \\u914D\\u7F6E\\u8BF4\\u660E\\uFF0C\\u5176\\u4ED6\\u53D1\\u884C\\u7248\\u7684\\u5E94\\u8BE5\\u662F\\u7C7B\\u4F3C\\u7684\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 1\n    }\n  }, \"\\u9ED8\\u8BA4 ubuntu \\u662F\\u6CA1\\u6709\\u5B89\\u88C5 openssh-server \\u7684\\uFF0C\\u9996\\u5148\\u5B89\\u88C5 \", /*#__PURE__*/React.createElement(\"code\", {\n    class: \"highlighter-rouge\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 42\n    }\n  }, \"sudo apt-get install openssh-server\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 1\n    }\n  }, \"\\u5B89\\u88C5\\u597D\\u4EE5\\u540E\\u5C31\\u81EA\\u52A8\\u542F\\u52A8\\u4E86\\uFF0C\\u6B64\\u65F6\\u9ED8\\u8BA4\\u8FD0\\u884C\\u7684\\u7AEF\\u53E3\\u5728 22\\uFF0C\\u7B80\\u5355\\u7684\\u8BDD\\u901A\\u8FC7 \", /*#__PURE__*/React.createElement(\"code\", {\n    class: \"highlighter-rouge\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 37\n    }\n  }, \"ssh user@host\"), \" \\u7684\\u65B9\\u6CD5\\u5C31\\u80FD\\u8FDC\\u7A0B\\u8BBF\\u95EE\\u4E86\\uFF0C\\u5F53\\u7136\\u4E3A\\u4E86\\u4FDD\\u8BC1\\u5B89\\u5168\\u6027\\uFF0C\\u5EFA\\u8BAE\\u505A\\u4E24\\u4EF6\\u4E8B\\uFF0C\\u4E00\\u662F\\u5C06\\u9ED8\\u8BA4\\u7AEF\\u53E3\\u6539\\u6389\\uFF0C\\u4E8C\\u662F\\u53EA\\u5141\\u8BB8\\u901A\\u8FC7\\u5BC6\\u94A5\\u8FDE\\u63A5\\uFF0C\\u7981\\u6B62\\u8F93\\u5165\\u7528\\u6237\\u540D\\u5BC6\\u7801\\u76F4\\u63A5\\u767B\\u5F55\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 1\n    }\n  }, \"\\u5728\\u670D\\u52A1\\u5668\\u4FEE\\u6539\\u4E0A\\u97622\\u70B9\\u7684\\u914D\\u7F6E\\u4EE5\\u524D\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u5148\\u5728\\u5BA2\\u6237\\u7AEF\\u6267\\u884C \", /*#__PURE__*/React.createElement(\"code\", {\n    class: \"highlighter-rouge\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 32\n    }\n  }, \"ssh-keygen\"), \"\\uFF0C\\u6839\\u636E\\u5177\\u4F53\\u7684\\u63D0\\u793A\\u751F\\u6210 RSA \\u7684\\u5BC6\\u94A5\\u5BF9\\uFF0C\\u6700\\u7B80\\u5355\\u7684\\u5C31\\u662F\\u4E00\\u8DEF\\u56DE\\u8F66\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 1\n    }\n  }, \"\\u5C06\\u751F\\u6210\\u7684\\u516C\\u94A5 \", /*#__PURE__*/React.createElement(\"code\", {\n    class: \"highlighter-rouge\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 11\n    }\n  }, \"id_rsa.pub\"), \" \\u653E\\u5230\\u670D\\u52A1\\u5668\\u9700\\u8981\\u767B\\u5F55\\u7684\\u7528\\u6237\\u9A8C\\u8BC1\\u6587\\u4EF6\\u4E2D\\uFF0C\\u4E00\\u822C\\u4E3A \", /*#__PURE__*/React.createElement(\"code\", {\n    class: \"highlighter-rouge\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 83\n    }\n  }, \"/home/user/.ssh/authorized_keys\"), \"\\uFF0C\\u53EF\\u4EE5\\u5C06\\u5185\\u5BB9 \", /*#__PURE__*/React.createElement(\"code\", {\n    class: \"highlighter-rouge\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 160\n    }\n  }, \"cat id_rsa.pub >> authorized_keys\"), \"\\uFF0C\\u6216\\u8005\\u76F4\\u63A5\\u5728\\u5BA2\\u6237\\u7AEF\\u4E2D\\u6267\\u884C \", /*#__PURE__*/React.createElement(\"code\", {\n    class: \"highlighter-rouge\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 251\n    }\n  }, \"ssh-copy-id -i id_rsa.pub user@host\"), \"\\uFF0C\\u5728\\u9ED8\\u8BA4\\u7684\\u914D\\u7F6E\\u4E0B\\u5BA2\\u6237\\u7AEF\\u81EA\\u52A8\\u5728\\u670D\\u52A1\\u5668\\u4E0A\\u751F\\u6210\\u76F8\\u5E94\\u7684\\u6587\\u4EF6\\uFF0C\\u8BB0\\u5F97\\u5BA2\\u6237\\u7AEF\\u4FDD\\u7559\\u597D\\u79C1\\u94A5\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 4\n    }\n  }, \"\\u8FD9\\u91CC\\u9700\\u8981\\u6CE8\\u610F\\u7684\\u662F\\uFF0C\\u4E0D\\u7BA1\\u662F \", /*#__PURE__*/React.createElement(\"code\", {\n    class: \"highlighter-rouge\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 25\n    }\n  }, \"authorized_keys\"), \" \\u8FD8\\u662F \", /*#__PURE__*/React.createElement(\"code\", {\n    class: \"highlighter-rouge\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 83\n    }\n  }, \"id_rsa\"), \" \\u6587\\u4EF6\\uFF0C\\u5BF9\\u5E94\\u7684\\u6743\\u9650\\u5E94\\u8BE5\\u662F \", /*#__PURE__*/React.createElement(\"code\", {\n    class: \"highlighter-rouge\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 141\n    }\n  }, \"600\"), \" \\u6216\\u8005 \", /*#__PURE__*/React.createElement(\"code\", {\n    class: \"highlighter-rouge\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 187\n    }\n  }, \"400\"), \" \\uFF0C\\u5373\\u9664\\u4E86 owner \\u4EE5\\u5916\\u5176\\u5B83\\u7528\\u6237\\u90FD\\u6CA1\\u6709\\u6743\\u9650\\u8BFB\\u5199\\uFF0C\\u5426\\u5219\\u8BBE\\u7F6E\\u65E0\\u6548\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 1\n    }\n  }, \"\\u5B8C\\u6210\\u4E0A\\u9762\\u8FD9\\u6B65\\u4EE5\\u540E\\uFF0C\\u53EF\\u4EE5\\u4FEE\\u6539\\u670D\\u52A1\\u5668\\u4E0A\\u7684 \", /*#__PURE__*/React.createElement(\"code\", {\n    class: \"highlighter-rouge\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 23\n    }\n  }, \"/etc/ssh/sshd_config\"), \" \\u6587\\u4EF6\\u4E86\\uFF0C\\u91CD\\u8981\\u7684\\u90E8\\u5206\\u8BBE\\u7F6E\\u5982\\u4E0B\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"highlighter-rouge\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"pre\", {\n    class: \"highlight\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 32\n    }\n  }, /*#__PURE__*/React.createElement(\"code\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 55\n    }\n  }, \"Port 1022 #\\u7AEF\\u53E3\\u8BBE\\u7F6E\\u53D8\\u66F4 **\\u91CD\\u8981** PermitRootLogin no #\\u7981\\u6B62\\u7528root\\u8FDB\\u884C\\u767B\\u5F55 RSAAuthentication yes PubkeyAuthentication yes ChallengeResponseAuthentication no PasswordAuthentication no #\\u4E0D\\u5141\\u8BB8\\u901A\\u8FC7\\u5BC6\\u7801\\u767B\\u5F55 **\\u91CD\\u8981** UsePAM no\"))), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 1\n    }\n  }, \"\\u91CD\\u542F\\u670D\\u52A1 \", /*#__PURE__*/React.createElement(\"code\", {\n    class: \"highlighter-rouge\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, \"sudo service ssh restart\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 1\n    }\n  }, \"Done\\uFF01\\u81F3\\u6B64\\u5C31\\u53EF\\u4EE5\\u5728\\u5BA2\\u6237\\u7AEF\\u76F4\\u63A5\\u901A\\u8FC7\\u79C1\\u94A5\\u8FDB\\u884C\\u8BBF\\u95EE\\u4E86\"));\n};\n\nexport default OpenSSH;","map":{"version":3,"sources":["/Users/guanlun/Documents/GitHub/myblog/src/components/Textcontent/test.js"],"names":["React","OpenSSH"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,OAAO,GAAG,MAAM;AAElB,sBAAO;AAAS,IAAA,EAAE,EAAC,eAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACX;AAAI,IAAA,EAAE,EAAC,aAAP;AAAqB,uBAAgB,UAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDADW,eAEX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gLAFW,eAIX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6HAAyC;AAAM,IAAA,KAAK,EAAC,mBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAAzC,CAJW,eAMX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wMAAoC;AAAM,IAAA,KAAK,EAAC,mBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAApC,gYANW,eAQX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oLAA+B;AAAM,IAAA,KAAK,EAAC,mBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA/B,gKARW,eAUX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2DAAU;AAAM,IAAA,KAAK,EAAC,mBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAV,mJAAkF;AAAM,IAAA,KAAK,EAAC,mBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAAlF,wDAA+J;AAAM,IAAA,KAAK,EAAC,mBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAA/J,4FAA0P;AAAM,IAAA,KAAK,EAAC,mBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAA1P,6NAVW,eAYX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+FAAqB;AAAM,IAAA,KAAK,EAAC,mBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAArB,iCAA+E;AAAM,IAAA,KAAK,EAAC,mBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA/E,uFAAyI;AAAM,IAAA,KAAK,EAAC,mBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAzI,iCAAuL;AAAM,IAAA,KAAK,EAAC,mBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAvL,6JAAH,CAZW,eAcX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mIAAsB;AAAM,IAAA,KAAK,EAAC,mBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAtB,oFAdW,eAgBX;AAAK,IAAA,KAAK,EAAC,mBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA+B;AAAK,IAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0UAAvB,CAA/B,CAhBW,eA4BX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAAQ;AAAM,IAAA,KAAK,EAAC,mBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAAR,CA5BW,eA8BX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0IA9BW,CAAP;AAgCS,CAlCb;;AAoCA,eAAeA,OAAf","sourcesContent":["import React from 'react'\n\nconst OpenSSH = () => {\n    \n    return(<article id=\"post__content\">\n<h1 id=\"post__title\" data-identifier=\"20150306\">OpenSSH 安全配置备忘</h1>\n<p>下面是基于 Ubuntu Server 14.04 的 OpenSSH 配置说明，其他发行版的应该是类似的</p>\n\n<p>默认 ubuntu 是没有安装 openssh-server 的，首先安装 <code class=\"highlighter-rouge\">sudo apt-get install openssh-server</code></p>\n\n<p>安装好以后就自动启动了，此时默认运行的端口在 22，简单的话通过 <code class=\"highlighter-rouge\">ssh user@host</code> 的方法就能远程访问了，当然为了保证安全性，建议做两件事，一是将默认端口改掉，二是只允许通过密钥连接，禁止输入用户名密码直接登录</p>\n\n<p>在服务器修改上面2点的配置以前，我们可以先在客户端执行 <code class=\"highlighter-rouge\">ssh-keygen</code>，根据具体的提示生成 RSA 的密钥对，最简单的就是一路回车</p>\n\n<p>将生成的公钥 <code class=\"highlighter-rouge\">id_rsa.pub</code> 放到服务器需要登录的用户验证文件中，一般为 <code class=\"highlighter-rouge\">/home/user/.ssh/authorized_keys</code>，可以将内容 <code class=\"highlighter-rouge\">cat id_rsa.pub &gt;&gt; authorized_keys</code>，或者直接在客户端中执行 <code class=\"highlighter-rouge\">ssh-copy-id -i id_rsa.pub user@host</code>，在默认的配置下客户端自动在服务器上生成相应的文件，记得客户端保留好私钥</p>\n\n<p><strong>这里需要注意的是，不管是 <code class=\"highlighter-rouge\">authorized_keys</code> 还是 <code class=\"highlighter-rouge\">id_rsa</code> 文件，对应的权限应该是 <code class=\"highlighter-rouge\">600</code> 或者 <code class=\"highlighter-rouge\">400</code> ，即除了 owner 以外其它用户都没有权限读写，否则设置无效</strong></p>\n\n<p>完成上面这步以后，可以修改服务器上的 <code class=\"highlighter-rouge\">/etc/ssh/sshd_config</code> 文件了，重要的部分设置如下</p>\n\n<div class=\"highlighter-rouge\"><pre class=\"highlight\"><code>Port 1022 #端口设置变更 **重要**\n\nPermitRootLogin no #禁止用root进行登录\nRSAAuthentication yes\nPubkeyAuthentication yes\n\nChallengeResponseAuthentication no\nPasswordAuthentication no #不允许通过密码登录 **重要**\nUsePAM no\n</code></pre>\n</div>\n\n<p>重启服务 <code class=\"highlighter-rouge\">sudo service ssh restart</code></p>\n\n<p>Done！至此就可以在客户端直接通过私钥进行访问了</p>\n\n</article> )}\n\nexport default OpenSSH;\n\n\n"]},"metadata":{},"sourceType":"module"}